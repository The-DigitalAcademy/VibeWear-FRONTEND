{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class CartService {\n  constructor() {\n    this.cartItems = new BehaviorSubject([]);\n    this.cartItems$ = this.cartItems.asObservable();\n    // Load cart from localStorage on service initialization\n    const savedCart = localStorage.getItem('cart');\n    if (savedCart) {\n      this.cartItems.next(JSON.parse(savedCart));\n    }\n  }\n  addToCart(product) {\n    const currentItems = this.cartItems.value;\n    const existingItem = currentItems.find(item => item.id === product.id);\n    if (existingItem) {\n      existingItem.quantity += 1;\n    } else {\n      currentItems.push({\n        id: product.id,\n        title: product.title,\n        price: product.price,\n        image: product.image,\n        quantity: 1\n      });\n    }\n    this.cartItems.next([...currentItems]);\n    this.saveToLocalStorage();\n  }\n  removeFromCart(productId) {\n    const currentItems = this.cartItems.value.filter(item => item.id !== productId);\n    this.cartItems.next(currentItems);\n    this.saveToLocalStorage();\n  }\n  updateQuantity(productId, quantity) {\n    const currentItems = this.cartItems.value;\n    const item = currentItems.find(item => item.id === productId);\n    if (item) {\n      if (quantity <= 0) {\n        this.removeFromCart(productId);\n      } else {\n        item.quantity = quantity;\n        this.cartItems.next([...currentItems]);\n        this.saveToLocalStorage();\n      }\n    }\n  }\n  getCartItemCount() {\n    return this.cartItems.value.reduce((total, item) => total + item.quantity, 0);\n  }\n  getTotalPrice() {\n    return this.cartItems.value.reduce((total, item) => total + item.price * item.quantity, 0);\n  }\n  clearCart() {\n    this.cartItems.next([]);\n    localStorage.removeItem('cart');\n  }\n  saveToLocalStorage() {\n    localStorage.setItem('cart', JSON.stringify(this.cartItems.value));\n  }\n  static {\n    this.ɵfac = function CartService_Factory(t) {\n      return new (t || CartService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: CartService,\n      factory: CartService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["BehaviorSubject","CartService","constructor","cartItems","cartItems$","asObservable","savedCart","localStorage","getItem","next","JSON","parse","addToCart","product","currentItems","value","existingItem","find","item","id","quantity","push","title","price","image","saveToLocalStorage","removeFromCart","productId","filter","updateQuantity","getCartItemCount","reduce","total","getTotalPrice","clearCart","removeItem","setItem","stringify","factory","ɵfac","providedIn"],"sources":["/Users/damacm1154/Desktop/VibeWear/src/app/services/cart.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n//this is interface for Cart item\nexport interface CartItem {\n  id: number;\n  title: string;\n  price: number;\n  image: string;\n  quantity: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n  private cartItems = new BehaviorSubject<CartItem[]>([]);\n  cartItems$ = this.cartItems.asObservable();\n\n  constructor() {\n    // Load cart from localStorage on service initialization\n    const savedCart = localStorage.getItem('cart');\n    if (savedCart) {\n      this.cartItems.next(JSON.parse(savedCart));\n    }\n  }\n\n  addToCart(product: any): void {\n    const currentItems = this.cartItems.value;\n    const existingItem = currentItems.find(item => item.id === product.id);\n\n    if (existingItem) {\n      existingItem.quantity += 1;\n    } else {\n      currentItems.push({\n        id: product.id,\n        title: product.title,\n        price: product.price,\n        image: product.image,\n        quantity: 1\n      });\n    }\n\n    this.cartItems.next([...currentItems]);\n    this.saveToLocalStorage();\n  }\n\n  removeFromCart(productId: number): void {\n    const currentItems = this.cartItems.value.filter(item => item.id !== productId);\n    this.cartItems.next(currentItems);\n    this.saveToLocalStorage();\n  }\n\n  updateQuantity(productId: number, quantity: number): void {\n    const currentItems = this.cartItems.value;\n    const item = currentItems.find(item => item.id === productId);\n    \n    if (item) {\n      if (quantity <= 0) {\n        this.removeFromCart(productId);\n      } else {\n        item.quantity = quantity;\n        this.cartItems.next([...currentItems]);\n        this.saveToLocalStorage();\n      }\n    }\n  }\n\n  getCartItemCount(): number {\n    return this.cartItems.value.reduce((total, item) => total + item.quantity, 0);\n  }\n\n  getTotalPrice(): number {\n    return this.cartItems.value.reduce((total, item) => total + (item.price * item.quantity), 0);\n  }\n\n  clearCart(): void {\n    this.cartItems.next([]);\n    localStorage.removeItem('cart');\n  }\n\n  private saveToLocalStorage(): void {\n    localStorage.setItem('cart', JSON.stringify(this.cartItems.value));\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}