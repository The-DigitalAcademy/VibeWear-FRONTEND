<div
  style="background-color: #f2f2f2; height:200%; margin: 50px; border-radius: 1rem; padding: 1px;"
>
  <div class="container my-5" *ngIf="product; else loading">
    <div class="row">
      <!-- Product Image -->
      <div class="col-md-5 text-center">
        <img
          [src]="product.image"
          [alt]="product.title"
          class="img-fluid rounded shadow-sm"
          style="max-height: 400px; object-fit: contain;"
        />
      </div>

      <!-- Product Info -->
      <div class="col-md-7">
        <h2 class="mb-3">{{ product.title }}</h2>
        <p class="text-muted mb-2">{{ product.category }}</p>
        <h4 class="mb-3 text-dark">R{{ product.price }}</h4>

        <p class="mb-4">{{ product.description }}</p>

        <!-- NgRx Add To Cart -->
        <button
          class="btn btn-dark me-2"
          (click)="addToCart(product)"
        >
          Add to Cart
        </button>

        <button
          class="btn btn-outline-dark"
          (click)="goToProducts()"
        >
          Back to Products
        </button>
      </div>
    </div>
  </div>

  <!-- Loading -->
  <ng-template #loading>
    <div class="text-center my-5">
      <div class="spinner-border text-primary"></div>
      <p class="mt-3">Loading product details...</p>
    </div>
  </ng-template>

  <!-- Add To Cart Modal -->
  <div
    class="modal fade"
    id="cartModal"
    tabindex="-1"
    aria-labelledby="cartModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div
          class="modal-header"
          style="background-color: #6c757d; color: white;"
        >
          <h5 class="modal-title" id="cartModalLabel">
            Item Added to Cart
          </h5>
          <button
            type="button"
            class="btn-close btn-close-white"
            data-bs-dismiss="modal"
          ></button>
        </div>

        <div class="modal-body text-center">
          <p class="mb-3">
            âœ… <strong>{{ product.title }}</strong> has been added to your cart.
          </p>
        </div>

        <div class="modal-footer d-flex justify-content-center">
          <button
            class="btn btn-outline-dark"
            data-bs-dismiss="modal"
            (click)="goToProducts()"
          >
            Continue Shopping
          </button>

          <button
            class="btn btn-dark"
            (click)="goToCart()"
          >
            Go to Cart
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
